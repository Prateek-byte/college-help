{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\prate\\\\Desktop\\\\college-help\\\\client\\\\src\\\\pages\\\\Chat.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from \"react\";\nimport { io } from \"socket.io-client\";\nimport { Box, Paper, Typography, List, ListItem, TextField, Button } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:5000\");\nexport default function Chat() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [text, setText] = useState(\"\");\n  const listRef = useRef();\n  useEffect(() => {\n    socket.emit(\"join\", \"global\");\n    socket.on(\"message\", msg => setMessages(prev => [...prev, msg]));\n    return () => socket.disconnect();\n  }, []);\n  useEffect(() => {\n    if (listRef.current) {\n      listRef.current.scrollTop = listRef.current.scrollHeight;\n    }\n  }, [messages]);\n  const send = () => {\n    if (!text) return;\n    socket.emit(\"message\", {\n      room: \"global\",\n      user: \"Anonymous\",\n      text\n    });\n    setText(\"\");\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    mt: 4,\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        width: \"100%\",\n        maxWidth: 600,\n        p: 2,\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: 500\n      },\n      elevation: 3,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        mb: 2,\n        align: \"center\",\n        children: \"Chat Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        ref: listRef,\n        sx: {\n          flexGrow: 1,\n          overflowY: \"auto\",\n          mb: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(List, {\n          children: messages.map((m, i) => /*#__PURE__*/_jsxDEV(ListItem, {\n            sx: {\n              py: 0.5\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              sx: {\n                mr: 1\n              },\n              children: [m.user, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              children: m.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: \"flex\",\n          gap: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          variant: \"outlined\",\n          placeholder: \"Type a message\",\n          value: text,\n          onChange: e => setText(e.target.value),\n          onKeyDown: e => e.key === \"Enter\" && send()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: send,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"29cPp5/3lfUi9frnhbqLxzA7M3E=\");\n_c = Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["useEffect","useState","useRef","io","Box","Paper","Typography","List","ListItem","TextField","Button","jsxDEV","_jsxDEV","socket","Chat","_s","messages","setMessages","text","setText","listRef","emit","on","msg","prev","disconnect","current","scrollTop","scrollHeight","send","room","user","display","flexDirection","alignItems","mt","children","sx","width","maxWidth","p","height","elevation","variant","mb","align","fileName","_jsxFileName","lineNumber","columnNumber","ref","flexGrow","overflowY","map","m","i","py","mr","gap","fullWidth","placeholder","value","onChange","e","target","onKeyDown","key","onClick","_c","$RefreshReg$"],"sources":["C:/Users/prate/Desktop/college-help/client/src/pages/Chat.jsx"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\r\nimport { io } from \"socket.io-client\";\r\nimport {\r\n  Box,\r\n  Paper,\r\n  Typography,\r\n  List,\r\n  ListItem,\r\n  TextField,\r\n  Button,\r\n} from \"@mui/material\";\r\n\r\nconst socket = io(\"http://localhost:5000\");\r\n\r\nexport default function Chat() {\r\n  const [messages, setMessages] = useState([]);\r\n  const [text, setText] = useState(\"\");\r\n  const listRef = useRef();\r\n\r\n  useEffect(() => {\r\n    socket.emit(\"join\", \"global\");\r\n    socket.on(\"message\", (msg) => setMessages((prev) => [...prev, msg]));\r\n    return () => socket.disconnect();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (listRef.current) {\r\n      listRef.current.scrollTop = listRef.current.scrollHeight;\r\n    }\r\n  }, [messages]);\r\n\r\n  const send = () => {\r\n    if (!text) return;\r\n    socket.emit(\"message\", { room: \"global\", user: \"Anonymous\", text });\r\n    setText(\"\");\r\n  };\r\n\r\n  return (\r\n    <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" mt={4}>\r\n      <Paper\r\n        sx={{\r\n          width: \"100%\",\r\n          maxWidth: 600,\r\n          p: 2,\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          height: 500,\r\n        }}\r\n        elevation={3}\r\n      >\r\n        <Typography variant=\"h5\" mb={2} align=\"center\">\r\n          Chat Room\r\n        </Typography>\r\n        <Box ref={listRef} sx={{ flexGrow: 1, overflowY: \"auto\", mb: 2 }}>\r\n          <List>\r\n            {messages.map((m, i) => (\r\n              <ListItem key={i} sx={{ py: 0.5 }}>\r\n                <Typography variant=\"subtitle2\" sx={{ mr: 1 }}>\r\n                  {m.user}:\r\n                </Typography>\r\n                <Typography variant=\"body1\">{m.text}</Typography>\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </Box>\r\n        <Box sx={{ display: \"flex\", gap: 1 }}>\r\n          <TextField\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            placeholder=\"Type a message\"\r\n            value={text}\r\n            onChange={(e) => setText(e.target.value)}\r\n            onKeyDown={(e) => e.key === \"Enter\" && send()}\r\n          />\r\n          <Button variant=\"contained\" onClick={send}>\r\n            Send\r\n          </Button>\r\n        </Box>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}